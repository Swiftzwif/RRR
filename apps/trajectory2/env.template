# ========================================================================
# TRAJECTORY2 ENVIRONMENT VARIABLES - PRODUCTION READY TEMPLATE
# ========================================================================
#
# üöÄ QUICK START:
#   1. Copy this file: cp env.template .env.local
#   2. Replace all TODO_ placeholders with your actual values
#   3. See SUPABASE_BACKEND_SETUP.md for complete setup guide
#   4. NEVER commit .env.local to git (it's in .gitignore)
#
# üìñ Documentation:
#   - Backend Setup: SUPABASE_BACKEND_SETUP.md
#   - Email Setup: EMAIL_SETUP.md
#   - Payment Setup: PAYMENT_SETUP.md
#   - Premium Features: PREMIUM_SETUP_GUIDE.md
#
# ========================================================================

# -------------------------------------
# SUPABASE (Required - Priority 1)
# -------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
#
# Steps:
#   1. Create/select your Supabase project
#   2. Go to Settings ‚Üí API
#   3. Copy Project URL and API Keys below
#
# ‚ö†Ô∏è  CRITICAL: These three values are REQUIRED for app to run

# Your Supabase Project URL
NEXT_PUBLIC_SUPABASE_URL=TODO_https://your-project.supabase.co

# Your Supabase Anonymous/Public Key (safe for browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=TODO_eyJ...your-anon-key

# Your Supabase Service Role Key (server-only, NEVER expose to browser!)
SUPABASE_SERVICE_ROLE_KEY=TODO_eyJ...your-service-role-key

# -------------------------------------
# SQUARE PAYMENTS (Optional - Priority 3)
# -------------------------------------
# Get these from: https://developer.squareup.com/apps
#
# Steps:
#   1. Create Square Developer account
#   2. Create a new application
#   3. Get Sandbox credentials for testing
#   4. Later, switch to Production credentials
#
# üí° TIP: Start with 'sandbox' environment, test with test cards
#         See: https://developer.squareup.com/docs/testing/test-cards

# Square API Access Token (from Square Developer Dashboard)
# SQUARE_ACCESS_TOKEN=TODO_your_square_access_token

# Square Location ID (from Square Dashboard ‚Üí Locations)
# SQUARE_LOCATION_ID=TODO_your_square_location_id

# Environment: 'sandbox' for testing, 'production' for live payments
# SQUARE_ENVIRONMENT=sandbox

# Webhook Signature Key (from Square Webhooks settings)
# Used to verify webhook authenticity - get from webhook configuration
# SQUARE_WEBHOOK_SIGNATURE_KEY=TODO_your_webhook_signature_key

# -------------------------------------
# EMAIL - RESEND (Required - Priority 2)
# -------------------------------------
# Get your API key from: https://resend.com/api-keys
#
# Steps:
#   1. Sign up at https://resend.com
#   2. Verify your domain (or use test domain for development)
#   3. Create an API key
#   4. Set your "From" email address
#
# üí° TIP: For testing, use: onboarding@resend.dev

# Your Resend API Key
RESEND_API_KEY=TODO_re_your_resend_api_key

# From email address (must match verified domain in Resend)
# Format: "Your Name from Company <email@domain.com>"
RESEND_FROM_EMAIL=TODO_Trajectory <hello@your-domain.com>

# -------------------------------------
# APPLICATION (Required - Priority 1)
# -------------------------------------
# Your application URL (used for email links, redirects, etc.)
#
# Development: http://localhost:3003
# Staging: https://trajectory-staging.vercel.app
# Production: https://your-domain.com

NEXT_PUBLIC_APP_URL=TODO_http://localhost:3003

# -------------------------------------
# OPTIONAL: ANALYTICS
# -------------------------------------
# PostHog (https://posthog.com)
# NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_key
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Vercel Analytics (auto-enabled on Vercel)
# NEXT_PUBLIC_ANALYTICS_ID=your_analytics_id

# -------------------------------------
# OPTIONAL: JOB QUEUE (Future)
# -------------------------------------
# For scheduled emails, you might want to use:
# - Inngest (https://inngest.com)
# - BullMQ with Redis
# - Quirrel (https://quirrel.dev)

# Example for Inngest:
# INNGEST_EVENT_KEY=your_inngest_event_key
# INNGEST_SIGNING_KEY=your_inngest_signing_key

# -------------------------------------
# DEVELOPMENT ONLY
# -------------------------------------
# NODE_ENV=development
# NEXT_PUBLIC_DEV_MODE=true

# ========================================================================
# üìã SETUP CHECKLIST
# ========================================================================
#
# Use this checklist to track your setup progress:
#
# PRIORITY 1 - MUST HAVE (App won't work without these):
#   [ ] NEXT_PUBLIC_SUPABASE_URL - From Supabase Settings ‚Üí API
#   [ ] NEXT_PUBLIC_SUPABASE_ANON_KEY - From Supabase Settings ‚Üí API
#   [ ] SUPABASE_SERVICE_ROLE_KEY - From Supabase Settings ‚Üí API
#   [ ] RESEND_API_KEY - From https://resend.com/api-keys
#   [ ] RESEND_FROM_EMAIL - Verified domain in Resend
#   [ ] NEXT_PUBLIC_APP_URL - Your app URL (localhost for dev)
#
# PRIORITY 2 - BACKEND SETUP (Required for full functionality):
#   [ ] Ran database migration (main-schema.sql)
#   [ ] Ran premium features migration (if using premium features)
#   [ ] Configured Supabase Auth (Site URL, Redirect URLs)
#   [ ] Updated email templates in Supabase
#   [ ] Tested database connection
#
# PRIORITY 3 - PAYMENTS (Optional, can enable later):
#   [ ] Square Developer account created
#   [ ] SQUARE_ACCESS_TOKEN configured
#   [ ] SQUARE_LOCATION_ID configured
#   [ ] SQUARE_WEBHOOK_SIGNATURE_KEY configured
#   [ ] Webhooks tested in sandbox
#
# PRIORITY 4 - PRODUCTION (Before going live):
#   [ ] Updated NEXT_PUBLIC_APP_URL to production domain
#   [ ] Configured production environment variables in Vercel
#   [ ] Updated Supabase Auth URLs to production
#   [ ] Verified domain in Resend
#   [ ] Tested email delivery
#   [ ] Enabled database backups
#   [ ] Set up monitoring
#
# ========================================================================
# üöÄ QUICK START GUIDE
# ========================================================================
#
# Step 1: Copy this template
#   cp env.template .env.local
#
# Step 2: Set up Supabase (see SUPABASE_BACKEND_SETUP.md)
#   - Create Supabase project
#   - Run database migrations
#   - Get API keys from Settings ‚Üí API
#   - Fill in NEXT_PUBLIC_SUPABASE_URL, keys above
#
# Step 3: Set up Resend (see EMAIL_SETUP.md)
#   - Create Resend account
#   - Verify domain (or use test domain)
#   - Get API key
#   - Fill in RESEND_API_KEY, RESEND_FROM_EMAIL above
#
# Step 4: Test your setup
#   npm run dev
#   # Visit http://localhost:3003
#   # Take assessment
#   # Submit email
#   # Check Supabase for data
#
# Step 5: (Optional) Set up payments
#   - See PAYMENT_SETUP.md for Square integration
#   - Fill in Square variables above
#   - Test in sandbox first
#
# ========================================================================
# üîç TROUBLESHOOTING
# ========================================================================
#
# Issue: "Supabase URL is not defined"
#   Solution: Ensure NEXT_PUBLIC_SUPABASE_URL is set correctly
#   Restart dev server after changing env vars
#
# Issue: "Failed to send email"
#   Solution: Check RESEND_API_KEY is valid
#   Verify RESEND_FROM_EMAIL matches verified domain
#
# Issue: "Database connection failed"
#   Solution: Check Supabase project is not paused
#   Verify credentials are correct
#   Check if RLS policies allow access
#
# Issue: "Payment creation failed"
#   Solution: Verify Square credentials
#   Check SQUARE_ENVIRONMENT is 'sandbox' for testing
#   Ensure Square app has payment permissions
#
# For more help, see:
#   - SUPABASE_BACKEND_SETUP.md (comprehensive backend guide)
#   - EMAIL_SETUP.md (email configuration)
#   - PAYMENT_SETUP.md (Square integration)
#   - PREMIUM_SETUP_GUIDE.md (premium features)
#
# ========================================================================
# üìö DOCUMENTATION REFERENCE
# ========================================================================
#
# Complete Setup Guides:
#   - SUPABASE_BACKEND_SETUP.md - Complete Supabase setup (MUST READ)
#   - EMAIL_SETUP.md - Email configuration with Resend
#   - PAYMENT_SETUP.md - Square payment integration
#   - PREMIUM_SETUP_GUIDE.md - Premium user system setup
#   - ENV_SETUP.md - Environment variables quick reference
#
# Feature Documentation:
#   - PREMIUM_USER_SYSTEM.md - Premium features technical docs
#   - PREMIUM_QUICK_REFERENCE.md - Quick API reference
#   - DESIGN_SYSTEM.md - UI/UX guidelines
#   - LAUNCH_CHECKLIST.md - Pre-launch verification
#
# External Documentation:
#   - Supabase: https://supabase.com/docs
#   - Resend: https://resend.com/docs
#   - Square: https://developer.squareup.com/docs
#   - Next.js: https://nextjs.org/docs
#
# ========================================================================
# üõ°Ô∏è SECURITY BEST PRACTICES
# ========================================================================
#
# ‚ö†Ô∏è  CRITICAL SECURITY RULES:
#
#   1. NEVER commit .env.local to git
#      - Already in .gitignore, but double-check!
#
#   2. NEVER expose SUPABASE_SERVICE_ROLE_KEY to browser
#      - This key bypasses Row Level Security
#      - Only use in server-side code (API routes, server components)
#
#   3. NEVER hardcode secrets in code
#      - Always use environment variables
#      - Use .env.local for development
#      - Use Vercel Environment Variables for production
#
#   4. Rotate secrets regularly
#      - Service role key: Every 6 months
#      - API keys: Yearly
#      - Database password: Yearly
#
#   5. Use different credentials for each environment
#      - Development: localhost, test keys
#      - Staging: staging URL, staging keys
#      - Production: production URL, production keys
#
#   6. Verify HTTPS in production
#      - All API calls should use HTTPS
#      - No mixed content warnings
#
#   7. Enable rate limiting
#      - Configure in Supabase Settings ‚Üí API
#      - Prevents abuse and DDoS
#
#   8. Monitor for suspicious activity
#      - Check Supabase logs regularly
#      - Set up alerts for failed auth attempts
#
# ========================================================================
# üéØ PRODUCTION DEPLOYMENT CHECKLIST
# ========================================================================
#
# Before deploying to production:
#
# Environment Variables:
#   [ ] Updated NEXT_PUBLIC_APP_URL to production URL
#   [ ] All secrets configured in Vercel Environment Variables
#   [ ] Removed any hardcoded development values
#   [ ] Verified no TODO_ placeholders remain
#
# Supabase Configuration:
#   [ ] Updated Site URL in Supabase Auth
#   [ ] Added production redirect URLs
#   [ ] Enabled database backups (PITR)
#   [ ] Reviewed and tested RLS policies
#   [ ] Verified all migrations applied
#
# Email Configuration:
#   [ ] Verified production domain in Resend
#   [ ] Tested email delivery to real addresses
#   [ ] Updated email templates with production URLs
#   [ ] Configured SPF/DKIM records
#
# Payment Configuration (if enabled):
#   [ ] Switched to production Square credentials
#   [ ] Updated SQUARE_ENVIRONMENT to 'production'
#   [ ] Verified webhook URL points to production
#   [ ] Tested payment flow with real card
#
# Monitoring & Security:
#   [ ] Set up error tracking (Sentry)
#   [ ] Configured uptime monitoring
#   [ ] Enabled SSL/HTTPS
#   [ ] Reviewed security headers
#   [ ] Set up database backup alerts
#
# Testing:
#   [ ] Smoke test all critical user flows
#   [ ] Verified authentication works
#   [ ] Tested assessment submission
#   [ ] Verified email delivery
#   [ ] Tested payment flow (if enabled)
#   [ ] Checked mobile responsiveness
#   [ ] Verified no console errors
#
# Documentation:
#   [ ] Updated README with production URLs
#   [ ] Documented any custom configurations
#   [ ] Created runbook for common issues
#   [ ] Shared credentials with team (securely)
#
# ========================================================================
# üí° PRO TIPS
# ========================================================================
#
# Development Workflow:
#   - Keep .env.local in sync with env.template
#   - Document any new env vars you add
#   - Use descriptive names for env vars
#   - Add comments explaining what each var does
#
# Testing:
#   - Use separate Supabase project for staging
#   - Test with real email addresses (use + trick: user+test@example.com)
#   - Always test in incognito/private browsing mode
#   - Test on mobile devices, not just desktop
#
# Performance:
#   - Keep NEXT_PUBLIC_* vars to minimum (they increase bundle size)
#   - Cache Supabase client instances
#   - Use database functions for complex queries
#   - Enable CDN for static assets
#
# Debugging:
#   - Check browser console for NEXT_PUBLIC vars
#   - Check server logs for server-side vars
#   - Use Supabase logs to debug database issues
#   - Enable verbose logging temporarily for debugging
#
# ========================================================================
#
# üéâ You're all set! Now create your .env.local and start building!
#
# ========================================================================
